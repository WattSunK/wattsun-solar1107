<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta charset="utf-8"/>
  <title>Flexible Solar Financing Options</title>
  <link href="main.css" rel="stylesheet"/>
  <style>
    body {
      background: #f7f7f7;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      color: #333;
    }
    .container {
      max-width: 700px;
      margin: 40px auto;
      background: #fff;
      padding: 40px 35px 30px 35px;
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.10);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 2em;
      font-weight: bold;
      letter-spacing: 0.1px;
    }
    p {
      font-size: 1.13em;
      line-height: 1.5;
      margin-bottom: 28px;
      text-align: center;
    }
    label {
      display: block;
      margin: 15px 0 6px 0;
      font-weight: bold;
      font-size: 1.11em;
    }
    input, select {
      width: 100%;
      padding: 13px 12px;
      margin-bottom: 13px;
      border: 1.2px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
      box-sizing: border-box;
      background: #faf9f7;
      transition: border-color 0.2s;
    }
    input:focus, select:focus {
      border-color: #f7b733;
      outline: none;
    }
    button {
      width: 100%;
      background: #ffc043;
      color: #fff;
      border: none;
      padding: 15px;
      border-radius: 6px;
      font-size: 1.15em;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      margin-top: 10px;
      margin-bottom: 8px;
      box-shadow: 0 3px 18px rgba(247,183,51,0.11);
      letter-spacing: 0.04em;
    }
    button:hover {
      background: #ffb347;
      color: #965700;
    }
    .result {
      margin-top: 18px;
      text-align: center;
      font-weight: bold;
      font-size: 1.16em;
    }
    .disclaimer {
      font-size: 0.98em;
      text-align: center;
      color: #888;
      margin-top: 14px;
    }

    /* --- Header & Hamburger --- */
    .header-bar {
      display: flex;
      align-items: center;
      justify-content: flex-start; /* FIX: left-align children */
      position: relative;
      min-height: 48px;
      background: none;
      box-shadow: none;
      padding: 0;
    }
    .header-bar h1 {
      margin: 0 auto; /* center h1 in the available space */
      text-align: center;
      font-size: 1.5em;
      flex: 1 1 auto;
      font-family: 'Montserrat', Arial, sans-serif;
      color: #fff;
      font-weight: bold;
      padding: 9px 0 9px 0;
      letter-spacing: 1px;
    }
    .nav-toggle {
      font-size: 2em;
      background: none;
      border: none;
      color: #111;
      position: absolute;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1100;
      cursor: pointer;
      margin: 0;
      /* Let main.css control visibility (display:none on desktop) */
    }
    @media (max-width: 800px) {
      .container {
        max-width: 98vw;
        padding: 22px 5vw;
      }
    }
    @media (max-width: 700px) {
      .header-bar h1 { font-size: 1.2em !important; padding: 7px 0 7px 0 !important; }
      .nav-toggle { font-size: 2em !important; right: 12px !important; }
    }
  </style>
</head>
<body>
<!-- Header -->
<header>
  <div class="header-bar">
    <h1>WattSun Solar</h1>
    <button class="nav-toggle" aria-label="Menu" onclick="toggleNav()">&#9776;</button>
  </div>
  <nav>
    <a href="index.html">Home</a>
    <a href="solutions.html">Solutions</a>
    <a href="shop.html">Shop</a>
    <a href="financing.html">Financing</a>
    <a href="projects.html">Projects</a>
    <a href="contact.html">Contact</a>
    <!-- <a href="cart.html">ðŸ›’ Cart</a> -->
  </nav>
</header>
<!-- Main content -->
<div class="container">
  <h2>Flexible Solar Financing Options</h2>
  <p>
    WattSun Solar offers tailored financing plans to help you transition to clean, renewable energy without the burden of large upfront costs. Use the estimator below to calculate your expected monthly repayment based on system size and interest terms.
  </p>
  <form id="loanForm">
    <label for="system">Select System Size:</label>
    <select id="system" required="">
      <option value="">-- Select --</option>
      <option value="150000">1 kW â€“ KES 150,000</option>
      <option value="400000">3 kW â€“ KES 400,000</option>
      <option value="700000">6 kW â€“ KES 700,000</option>
      <option value="1050000">9 kW â€“ KES 1,050,000</option>
      <option value="1420000">12â€¯kW â€“ KES 1,420,000</option>
    </select>
    <label for="deposit">Your Deposit (KES):</label>
    <input id="deposit" required="" type="number" min="0"/>
    <label for="term">Loan Term (Months):</label>
    <input id="term" max="36" min="6" required="" type="number" value="36"/>
    <button type="submit">Calculate Loan</button>
  </form>
  <div class="result" id="result"></div>
  <div class="disclaimer">* This is an indicative estimate. Actual loan terms may vary.</div>
</div>
<footer>
  Â© 2025 WattSun Solar Kenya | <div class="footer-contacts"><a href="mailto:info@wattsun.co.ke">info@wattsun.co.ke</a></div>
</footer>
<script>
  // Hamburger toggle
  function toggleNav() {
    document.querySelector('header').classList.toggle('nav-open');
  }
  // Loan calculator logic with correct deposit maximum check!
  document.getElementById('loanForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const systemCost = parseFloat(document.getElementById('system').value);
    const deposit = parseFloat(document.getElementById('deposit').value);
    const term = parseInt(document.getElementById('term').value);
    const resultDiv = document.getElementById('result');
    if (!systemCost || isNaN(deposit) || isNaN(term)) {
      resultDiv.textContent = "Please fill in all fields.";
      return;
    }
    const minDeposit = 0.5 * systemCost;
    if (deposit < minDeposit) {
      resultDiv.textContent = "Minimum deposit is KES " + minDeposit.toLocaleString("en-KE");
      return;
    }
    if (deposit > systemCost) {
      resultDiv.textContent = "Deposit cannot be greater than system cost (KES " + systemCost.toLocaleString("en-KE") + ")";
      return;
    }
    const loanAmount = systemCost - deposit;
    const annualInterestRate = 0.15;
    const monthlyInterestRate = annualInterestRate / 12;
    const monthlyRepayment = (loanAmount * monthlyInterestRate) / (1 - Math.pow(1 + monthlyInterestRate, -term));
    resultDiv.textContent =
      "Loan Amount: KES " + loanAmount.toLocaleString("en-KE") +
      " | Monthly Repayment: KES " + monthlyRepayment.toFixed(0).toLocaleString("en-KE");
  });
</script>
</body>
</html>
